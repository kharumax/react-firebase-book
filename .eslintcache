[{"/Users/harumax/WebstormProjects/react-firebase-twitter/src/index.tsx":"1","/Users/harumax/WebstormProjects/react-firebase-twitter/src/serviceWorker.ts":"2","/Users/harumax/WebstormProjects/react-firebase-twitter/src/App.tsx":"3","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/AuthTop.tsx":"4","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/Login.tsx":"5","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/SignUp.tsx":"6","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/top/Top.tsx":"7","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/store.ts":"8","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/userSlice.ts":"9","/Users/harumax/WebstormProjects/react-firebase-twitter/src/config/firebase.ts":"10","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/LoadingPage.tsx":"11","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/user.ts":"12","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/userRepository.ts":"13","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/Home.tsx":"14","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/messages/Messages.tsx":"15","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/profile/Profile.tsx":"16","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/explore/Explore.tsx":"17","/Users/harumax/WebstormProjects/react-firebase-twitter/src/utils/Utils.ts":"18","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/TweetInput.tsx":"19","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/FeedContainer.tsx":"20","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/TweetCell.tsx":"21","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/User.ts":"22","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/tweetsSlice.ts":"23","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/tweetRepository.ts":"24","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/Tweet.ts":"25","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/profileSlice.ts":"26","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/Logout.tsx":"27","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/profileRepository.ts":"28","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/profile/ProfileUpdate.tsx":"29"},{"size":766,"mtime":1611460684467,"results":"30","hashOfConfig":"31"},{"size":5425,"mtime":1611627541754,"results":"32","hashOfConfig":"31"},{"size":2497,"mtime":1611969641713,"results":"33","hashOfConfig":"31"},{"size":3504,"mtime":1611627541760,"results":"34","hashOfConfig":"31"},{"size":2138,"mtime":1611627541762,"results":"35","hashOfConfig":"31"},{"size":2327,"mtime":1611627541764,"results":"36","hashOfConfig":"31"},{"size":6189,"mtime":1611899712353,"results":"37","hashOfConfig":"31"},{"size":556,"mtime":1611898239198,"results":"38","hashOfConfig":"31"},{"size":1742,"mtime":1611898239197,"results":"39","hashOfConfig":"31"},{"size":1453,"mtime":1611898239192,"results":"40","hashOfConfig":"31"},{"size":616,"mtime":1611460684470,"results":"41","hashOfConfig":"31"},{"size":422,"mtime":1611628863436,"results":"42","hashOfConfig":"31"},{"size":1918,"mtime":1611976823544,"results":"43","hashOfConfig":"31"},{"size":2052,"mtime":1611669630363,"results":"44","hashOfConfig":"31"},{"size":168,"mtime":1611627541769,"results":"45","hashOfConfig":"31"},{"size":8871,"mtime":1611899805550,"results":"46","hashOfConfig":"31"},{"size":166,"mtime":1611627541766,"results":"47","hashOfConfig":"31"},{"size":1821,"mtime":1611669630362,"results":"48","hashOfConfig":"31"},{"size":3605,"mtime":1611973225390,"results":"49","hashOfConfig":"31"},{"size":859,"mtime":1611898239203,"results":"50","hashOfConfig":"31"},{"size":2431,"mtime":1611669630364,"results":"51","hashOfConfig":"31"},{"size":491,"mtime":1611898239193,"results":"52","hashOfConfig":"31"},{"size":1362,"mtime":1611669630358,"results":"53","hashOfConfig":"31"},{"size":3289,"mtime":1611898441415,"results":"54","hashOfConfig":"31"},{"size":1160,"mtime":1611669630355,"results":"55","hashOfConfig":"31"},{"size":2269,"mtime":1611898239195,"results":"56","hashOfConfig":"31"},{"size":1412,"mtime":1611898239202,"results":"57","hashOfConfig":"31"},{"size":2907,"mtime":1611898239193,"results":"58","hashOfConfig":"31"},{"size":5403,"mtime":1612168349690,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"10k33js",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"62"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"62"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"62"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"62"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"62"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"62"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"62"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"62"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"62"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"62"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"62"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"62"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"62"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/harumax/WebstormProjects/react-firebase-twitter/src/index.tsx",[],["135","136"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/serviceWorker.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/App.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/AuthTop.tsx",["137","138"],"import React from 'react';\nimport { Switch,Route,Redirect } from \"react-router-dom\";\nimport styles from \"../../styles/auth/AuthTop.module.css\";\nimport LeftContainerIcon from \"../../images/left-container.png\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport Login from \"./Login\";\nimport SignUp from \"./SignUp\";\n\nconst AuthTop: React.FC = () => {\n\n    document.title = \"「いま」起きていることを見つけよう / Twitter\";\n\n    const handleLoginButton = (e: React.MouseEvent<HTMLElement>) => {\n        window.location.href = \"/login\";\n    };\n\n    const handleSignUpButton = (e: React.MouseEvent<HTMLElement>) => {\n        window.location.href = \"/signup\";\n    };\n\n    return (\n\n        <Switch>\n            <Route exact path=\"/login\">\n                <Login/>\n            </Route>\n            <Route exact path=\"/signup\">\n                <SignUp/>\n            </Route>\n            <Route exact path=\"/\">\n                <div className={styles.AuthTopBody}>\n                    <div className={styles.AuthTopContainer}>\n                        <div className={styles.AuthTopLeftContainer}>\n                            <img className={styles.AuthTopLeftImage} src={LeftContainerIcon}/>\n                        </div>\n                        <div className={styles.AuthTopRightContainer}>\n                            <div className={styles.AuthTopRightInnerContainer}>\n                                <img src={TwitterIcon}/>\n                                <p>「いま」起きていることを見つけよう</p>\n                                <h3>Twitterを始めよう</h3>\n                                <button className={styles.AuthTopRightSignUpButton} onClick={handleSignUpButton}>\n                                    アカウント作成\n                                </button>\n                                <button className={styles.AuthTopRightLoginButton} onClick={handleLoginButton}>\n                                    ログイン\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={styles.AuthTopBottomContainer}>\n                        <div className={styles.AuthTopBottomContainerList}>\n                            <p>Twitterについて</p>\n                            <p>ヘルプセンター</p>\n                            <p>利用規約</p>\n                            <p>プライバシーポリシー</p>\n                            <p>Cookieのポリシー</p>\n                            <p>広告情報</p>\n                            <p>ブログ</p>\n                            <p>ステータス</p>\n                            <p>採用情報</p>\n                            <p>ブランドリリース</p>\n                            <p>広告</p>\n                            <p>マーケティング</p>\n                            <p>Twitterのビジネス活用</p>\n                            <p>開発者</p>\n                            <p>プロフィール一覧</p>\n                            <p>設定</p>\n                        </div>\n                        <p className={styles.AuthTopBottomContainerCopyright}>\n                            &copy; 2021 Twitter-Firebase\n                        </p>\n                    </div>\n                </div>\n            </Route>\n            <Route>\n                <Redirect to=\"/\"/>\n            </Route>\n        </Switch>\n\n    );\n};\n\nexport default AuthTop;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/Login.tsx",["139","140"],"import React, {useState} from 'react';\nimport styles from \"../../styles/auth/Login.module.css\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport {auth} from \"../../config/firebase\";\nimport {loginUser} from \"../../data/repository/userRepository\";\n\n\nconst Login: React.FC = () => {\n\n    document.title = \"Twitterにログイン / Twitter\";\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");\n\n    const handleEmail = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setEmail(e.target.value);\n    };\n    const handlePassword = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setPassword(e.target.value);\n    };\n    const clearCredential = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    };\n\n    const handleLogin = async () => {\n        loginUser(email,password)\n            .then(result => {\n                console.log(`DEBUG: This is ${result}`);\n                window.location.href = \"/home\"\n            })\n            .catch(error => {\n                console.log(`Error: This is ${error}`);\n                alert(error);\n                clearCredential()\n            })\n    };\n\n    return (\n        <div className={styles.LoginContainer}>\n            <div className={styles.LoginInnerContainer}>\n                <img src={TwitterIcon}/>\n                <h2>Twitterにログイン</h2>\n                <input type=\"email\" required placeholder=\"メールアドレス\" className={styles.LoginEmailInput}\n                        value={email} onChange={handleEmail}\n                />\n                <input type=\"password\" required minLength={6} placeholder=\"パスワード\" className={styles.LoginPasswordInput}\n                        value={password} onChange={handlePassword}\n                />\n                <button type=\"submit\" className={styles.LoginConfirmButton} onClick={handleLogin}>\n                    ログイン\n                </button>\n                <a href=\"/signup\" className={styles.ToSignUpLink}>\n                    アカウント作成\n                </a>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/SignUp.tsx",["141"],"import React, {useState} from 'react';\nimport styles from \"../../styles/auth/SignUp.module.css\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport {Credential, signUpUser} from \"../../data/repository/userRepository\";\n\nconst SignUp:React.FC = () => {\n\n    document.title = \"Twitterに登録 / Twitter\";\n\n    const initialCredential: Credential = {\n        fullname: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\"\n    };\n\n    const [credential,setCredential] = useState<Credential>(initialCredential);\n\n    const handleCredential = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const name = e.target.name;\n        const value = e.target.value;\n        const newCred = { ...credential,[name]: value };\n        setCredential(newCred)\n    };\n\n    const signUp = () => {\n        console.log(`signUp is called`);\n        signUpUser(credential).then(result => {\n            window.location.href = \"/home\";\n            console.log(result)\n        })\n        .catch(error => {\n            alert(error);\n            setCredential(initialCredential);\n            console.error(`Error: ${error} at signUp in SignUp.tsx`);\n        });\n    };\n\n    return (\n        <div className={styles.SignUpContainer}>\n            <div className={styles.SignUpInnerContainer}>\n                <img src={TwitterIcon}/>\n                <h2>Twitterに登録</h2>\n                <input type=\"text\" required placeholder=\"フルネーム\" name=\"fullname\" value={credential.fullname} onChange={handleCredential}/>\n                <input type=\"text\" required placeholder=\"ユーザー名\" name=\"username\" value={credential.username} onChange={handleCredential}/>\n                <input type=\"email\" required placeholder=\"メールアドレス\" name=\"email\" value={credential.email} onChange={handleCredential}/>\n                <input type=\"password\" required minLength={6} placeholder=\"パスワード\" name=\"password\" value={credential.password} onChange={handleCredential}/>\n                <button type=\"submit\" className={styles.SignUpConfirmButton} onClick={signUp}>\n                    登録\n                </button>\n                <a href=\"/login\" className={styles.ToLoginLink}>\n                    ログインへ\n                </a>\n            </div>\n        </div>\n    );\n};\n\nexport default SignUp;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/top/Top.tsx",["142","143"],"import React, {useEffect, useState} from 'react';\nimport styles from \"../../styles/top/Top.module.css\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport HomeSideBarIcon from \"../../images/home.png\";\nimport ExploreSideBarIcon from \"../../images/explore.png\";\nimport MessageSideBarIcon from \"../../images/message.png\";\nimport ProfileSideBarIcon from \"../../images/profile.png\";\nimport ProfileIcon from \"../../images/ironman.jpg\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {selectUser,fetchCurrentUser} from \"../../store/slices/userSlice\";\nimport {fetchUser} from \"../../data/repository/userRepository\";\nimport LoadingPage from \"../LoadingPage\";\nimport { Switch,Route,NavLink,useLocation } from \"react-router-dom\";\nimport {auth} from \"../../config/firebase\";\nimport Home from \"../home/Home\";\nimport Explore from \"../explore/Explore\";\nimport Messages from \"../messages/Messages\";\nimport Profile from \"../profile/Profile\";\nimport {getTitle} from \"../../utils/Utils\";\nimport {fetchTweets} from \"../../data/repository/tweetRepository\";\nimport {addTweets} from \"../../store/slices/tweetsSlice\";\nimport ProfileUpdate from \"../profile/ProfileUpdate\";\n\nconst Top: React.FC = () => {\n\n    const currentUser = useSelector(selectUser);\n    const dispatch = useDispatch();\n    const [isLoading,setIsLoading] = useState(true);\n    document.title = getTitle(useLocation().pathname);\n\n    useEffect(() => {\n        //window.location.href = \"/home\";\n        console.log(\"DEBUG: useEffect is called at Top.tsx\");\n        fetchUser(currentUser.uid).then(user => {\n            dispatch(fetchCurrentUser(user));\n            fetchTweets(currentUser.uid).then(result => {\n                dispatch(addTweets(result));\n                setIsLoading(false)\n            }).catch(error => {\n                console.log(`DEBUG: Error is ${error}`)\n            });\n        });\n    },[dispatch]);\n\n    const handleLogout = async () => {\n        await auth.signOut()\n    };\n\n    const profileImage = () => {\n        return currentUser.profileImageUrl ? currentUser.profileImageUrl : ProfileIcon\n    };\n\n    return (\n        <>\n            {isLoading ? <LoadingPage/> :\n                <div className={styles.TopContainer}>\n                    <div className={styles.TopLeftSpaceContainer}>\n\n                    </div>\n                    <div className={styles.TopLeftContainer}>\n                        <NavLink to=\"/home\">\n                            <img src={TwitterIcon} alt=\"TwitterIcon\" className={styles.TopTwitterIcon}/>\n                        </NavLink>\n                        <div className={styles.TopSideBarContainer}>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/home\">\n                                <img src={HomeSideBarIcon} alt=\"HomeIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle} style={{paddingTop: \"16px\"}}>Home</p>\n                            </NavLink>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/explore\">\n                                <img src={ExploreSideBarIcon} alt=\"ExploreIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle}>Explore</p>\n                            </NavLink>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/messages\">\n                                <img src={MessageSideBarIcon} alt=\"MessagesIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle}>Messages</p>\n                            </NavLink>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} to={`/${currentUser.uid}`}>\n                                <img src={ProfileSideBarIcon} alt=\"ProfileIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle}>Profile</p>\n                            </NavLink>\n                        </div>\n                        {/*<button className={styles.TopLogoutButton} onClick={handleLogout}>*/}\n                        {/*    ログアウト*/}\n                        {/*</button>*/}\n                        <button className={styles.TopPostTweetButton}>\n                            Tweet\n                        </button>\n                        <div className={styles.TopProfileContainer}>\n                            <img src={profileImage()} alt=\"ProfileImage\" className={styles.TopProfileIcon}/>\n                            <div className={styles.TopProfileInfo}>\n                                <p className={styles.TopProfileFullname}>{currentUser.fullname}</p>\n                                <p className={styles.TopProfileUsername}>@{currentUser.username}</p>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div className={styles.TopCenterContainer}>\n                        <Switch>\n                            <Route exact path=\"/home\">\n                                <Home/>\n                            </Route>\n                            <Route exact path=\"/explore\">\n                                <Explore/>\n                            </Route>\n                            <Route exact path=\"/messages\">\n                                <Messages/>\n                            </Route>\n                            <Route path={`/${currentUser.uid}`}>\n                                <Profile user={currentUser}/>\n                            </Route>\n                            <Route exact path=\"/settings/profile\">\n                                <ProfileUpdate user={currentUser}/>\n                            </Route>\n                        </Switch>\n                    </div>\n                    <div className={styles.TopRightContainer}/>\n                    <div className={styles.TopRightSpaceContainer}/>\n                </div>\n            }\n        </>\n\n    );\n};\n\nexport default Top;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/store.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/userSlice.ts",["144"],"import { createSlice,PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../store\";\n\nexport const userSlice = createSlice({\n   name: \"user\", // sliceの名称\n   initialState: {\n       // sliceの初期値\n       user: {\n           uid: \"\",\n           fullname: \"\",\n           username: \"\",\n           profileImageUrl: \"\",\n           backgroundUrl: \"\",\n           bio: \"\",\n           isLogin: false,\n       }\n   },\n    // Stateに対して更新処理を定義する場所\n   reducers: {\n       // ここで定義した物がAction Creator関数の名前となる\n       login: (state,action) => {\n           state.user = {\n               ...state.user,uid: action.payload,isLogin: true\n           }\n       },\n       logout: (state) => {\n           state.user = {\n               uid: \"\",\n               fullname: \"\",\n               username: \"\",\n               profileImageUrl: \"\",\n               backgroundUrl: \"\",\n               bio: \"\",\n               isLogin: false,\n           };\n       },\n       fetchCurrentUser: (state,action) => {\n           const data = action.payload;\n            state.user = {\n                ...state.user,\n                uid: data.uid,\n                fullname: data.fullname,\n                username: data.username,\n                profileImageUrl: data.profileImageUrl,\n                backgroundUrl: data.backgroundUrl,\n                bio: data.bio\n            }\n       }\n   }\n});\n\nexport const { login,logout,fetchCurrentUser } = userSlice.actions;\n\nexport const selectUser = (state: RootState) => state.user.user;\n// 中間の user は storeのreducerの名称を指している\n// 最後の user は userSliceのstateであるuserを指している\n\n\nexport default userSlice.reducer;\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/config/firebase.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/LoadingPage.tsx",["145"],"import React from 'react';\nimport styles from \"../styles/LoadingPage.module.css\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport TwitterIcon from \"../images/twitter-logo-white.png\";\n\n\nconst LoadingPage: React.FC = () => {\n    return (\n        <div className={styles.LoadingPageContainer}>\n            <div className={styles.LoadingPageInnerContainer}>\n                <img src={TwitterIcon} className={styles.LoadingPageIcon}/>\n                <CircularProgress className={styles.LoadingPageIndicator} size={100} />\n            </div>\n        </div>\n    );\n};\n\nexport default LoadingPage;\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/user.ts",[],["146","147"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/userRepository.ts",["148","149","150"],"import {auth, defaultImageUrl, userRef, usersRef} from \"../../config/firebase\";\nimport {buildUser, User} from \"../entities/User\";\n\nexport interface Credential {\n    fullname: string;\n    username: string;\n    email: string;\n    password: string;\n}\n\nexport interface UpdateCredential {\n    readonly uid: string;\n    fullname: string;\n    username: string;\n    bio: string;\n    profileImage: File | null;\n    backgroundImage: File | null;\n}\n\nexport const fetchUser = async (uid: string) => {\n    console.log(`DEBUG: uid is ${uid}`);\n    const document = await userRef(uid).get();\n    if (document.exists && document.data() != undefined) {\n        return buildUser(document.data()!);\n    } else {\n        return null\n    }\n};\n\nexport const loginUser = async (email: string,password: string): Promise<string> => {\n    console.log(\"DEBUG: loginUser is called\");\n    try {\n        const authUser = await auth.signInWithEmailAndPassword(email,password);\n        return Promise.resolve(authUser.user!.uid)\n    } catch (error) {\n        return Promise.reject(error)\n    }\n};\n\nexport const signUpUser = async (credential: Credential): Promise<string> => {\n    console.log(\"DEBUG: signUpUser is called\");\n    try {\n        const authUser = await auth.createUserWithEmailAndPassword(credential.email, credential.password);\n        console.log(`DEBUG: authUser is success at userRepository`);\n        await userRef(authUser.user!.uid).set({\n            uid: authUser.user!.uid,fullname: credential.fullname,username: credential.username,\n            bio: \"\",profileImageUrl: defaultImageUrl,backgroundUrl: \"\"\n        });\n        console.log(`DEBUG: setUser is success at userRepository`);\n        return Promise.resolve(authUser.user!.uid)\n    } catch (error) {\n        return Promise.reject(error)\n    }\n};\n\nexport const updateUser = async (credential: UpdateCredential) => {\n\n};\n\nexport const fetchUsers = async () => {\n\n};\n\n\n\n\n\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/Home.tsx",["151","152"],"import React, {useEffect} from 'react';\nimport styles from \"../../styles/home/Home.module.css\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {selectUser} from \"../../store/slices/userSlice\";\nimport {selectTweets,addTweets } from \"../../store/slices/tweetsSlice\";\nimport TweetInput from \"./TweetInput\";\nimport FeedContainer from \"../shares/tweet/FeedContainer\";\nimport {fetchTweets, sendTweet} from \"../../data/repository/tweetRepository\";\nimport {Tweet} from \"../../data/entities/Tweet\";\nimport {addTweet} from \"../../store/slices/tweetsSlice\";\n\n\nconst Home: React.FC = () => {\n\n    const currentUser = useSelector(selectUser);\n    const tweets = useSelector(selectTweets);\n    const dispatch = useDispatch();\n\n    const postTweet = async (text: string,image: File | null) => {\n        console.log(`DEBUG: postTweet is called and text is ${text}`);\n        await sendTweet(currentUser,image,text).then(result => {\n            dispatch(addTweet(result));\n        }).catch(e => {\n            console.log(`Error ${e} at postTweet`)\n        });\n    };\n\n    useEffect( () => {\n        console.log(\"DEBUG: useEffect is called at Home.tsx\");\n        fetchTweets(currentUser.uid).then(result => {\n            dispatch(addTweets(result))\n        }).catch(error => {\n            console.log(`DEBUG: Error is ${error}`)\n        })\n    },[dispatch]);\n\n    return (\n        <div className={styles.HomeContainer}>\n            <h1 className={styles.HomeTitle}>Home</h1>\n            <div className={styles.HomeTweetInputContainer}>\n                <TweetInput user={currentUser} sendTweetAction={postTweet}/>\n            </div>\n            <div className={styles.HomeBlankSpace}>\n\n            </div>\n            <div className={styles.HomeFeedContainer}>\n                {\n                    tweets.length == 0 ? (\n                        <div>No Data</div>\n                    ) : <FeedContainer key={`FeedContainer_${currentUser.uid}`} tweets={tweets as Tweet[]} />\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default Home;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/messages/Messages.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/profile/Profile.tsx",["153","154","155","156"],"import React, {useEffect, useState} from 'react';\nimport styles from \"../../styles/profile/Profile.module.css\";\nimport ArrowIcon from \"../../images/arrow.png\";\nimport { Switch,Route,NavLink,useLocation } from \"react-router-dom\";\nimport {User} from \"../../data/entities/User\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport FeedContainer from \"../shares/tweet/FeedContainer\";\nimport {Tweet} from \"../../data/entities/Tweet\";\nimport {selectProfile,addUser,addTweets,addLikeTweets,addCommentTweets} from \"../../store/slices/profileSlice\";\nimport {selectUser} from \"../../store/slices/userSlice\";\nimport LoadingPage from \"../LoadingPage\";\n\nimport {\n    fetchIsFollowed,\n    fetchRelationshipStats, fetchUserCommentTweets,\n    fetchUserLikeTweets,\n    fetchUserPostTweets\n} from \"../../data/repository/profileRepository\";\n\ninterface PROPS {\n    user: User\n}\n\nconst Profile: React.FC<PROPS> = (props) => {\n\n    const profile = useSelector(selectProfile);\n    const [isLoading,setIsLoading] = useState(true);\n    const currentUser = useSelector(selectUser);\n    const dispatch = useDispatch();\n    document.title = `${props.user.fullname}`;\n\n    useEffect(() => {\n        setIsLoading(true);\n        console.log(`DEBUG: useEffect is called at Profile.tsx`);\n        const user = {\n            uid: props.user.uid,\n            fullname: props.user.fullname,\n            username: props.user.username,\n            profileImageUrl: props.user.profileImageUrl,\n            backgroundUrl: props.user.backgroundUrl,\n            bio: props.user.bio,\n            isCurrentUser: props.user.uid == currentUser.uid\n        };\n        const relationship = {\n            isFollowed: false,\n            following: 0,\n            followers: 0,\n        };\n        fetchIsFollowed(currentUser.uid,props.user.uid).then(result => {\n            relationship.isFollowed = result;\n            fetchRelationshipStats(props.user.uid).then(result => {\n                relationship.following = result.following;\n                relationship.followers = result.followers;\n                const payload = {user: user,relationship: relationship};\n                dispatch(addUser(payload));\n                fetchUserPostTweets(currentUser.uid,props.user.uid).then(result => {\n                    dispatch(addTweets(result));\n                    setIsLoading(false)\n                }).catch(e => {\n                    console.log(`Error: ${e} at Profile.tsx`)\n                })\n            }).catch(e => {\n                console.log(`Error: ${e}`)\n            })\n        }).catch(e => {\n            console.log(`Error: ${e}`)\n        });\n    },[dispatch]);\n\n\n    const handleLogoutButton = () => {\n        window.location.href = \"/logout\";\n    };\n\n    const handleEditProfileButton = () => {\n        window.location.href = \"/settings/profile\";\n    };\n\n    const handleFollowButton = () => {\n        console.log(`DEBUG: handleFollowButton is clicked`)\n    };\n\n    const handleFollowingButton = () => {\n        console.log(`DEBUG: handleFollowingButton is clicked`)\n    };\n\n    const handleLikesTweetsButton = () => {\n        fetchUserLikeTweets(props.user.uid,currentUser.uid).then(result => {\n            dispatch(addLikeTweets(result))\n        }).catch(e => {\n            console.log(`Error: ${e} at Profile.tsx`)\n        })\n    };\n\n    const handleCommentsTweetsButton = () => {\n        fetchUserCommentTweets(props.user.uid,currentUser.uid).then(result => {\n            dispatch(addCommentTweets(result))\n        }).catch(e => {\n            console.log(`Error: ${e} at Profile.tsx`)\n        })\n    };\n\n    return (\n        <>\n        {\n            isLoading ?\n                <LoadingPage/>\n                :\n                <div className={styles.ProfileContainer}>\n                    <div className={styles.ProfileNav}>\n                        <img src={ArrowIcon} alt=\"BackButton\" className={styles.ProfileNavBackButton}/>\n                        <div className={styles.ProfileNavUserInfo}>\n                            <div className={styles.ProfileNavUsername}>{profile.user.fullname}</div>\n                            <div className={styles.ProfileNavTweetCount}>0 Tweets</div>\n                        </div>\n                    </div>\n                    <div className={styles.ProfileUserInformationContainer}>\n                        {/* backgroundURLの処理はあとで行う　*/}\n                        {profile.user.backgroundUrl.length == 0 ?\n                            <div className={styles.ProfileBackground}/>\n                            :\n                            <img src={profile.user.backgroundUrl} alt=\"BackgroundImage\" className={styles.ProfileBackgroundImage}/>\n                        }\n                        <img src={profile.user.profileImageUrl} alt=\"ProfileImage\" className={styles.ProfileImage}/>\n                        <div className={styles.ProfileButtonContainer}>\n                            {profile.user.isCurrentUser ? (<button className={styles.ProfileLogoutButton} onClick={handleLogoutButton}>Logout</button>)\n                                : <div className={styles.ProfileSpaceTag}/>}\n                            {profile.user.isCurrentUser && (\n                                <button className={styles.ProfileActionButton} onClick={handleEditProfileButton}>Edit profile</button>\n                            )}\n                            {!profile.user.isCurrentUser && profile.relationship.isFollowed && (\n                                <button className={styles.ProfileActionDoneButton} onClick={handleFollowingButton}>Following</button>\n                            )}\n                            {!profile.user.isCurrentUser && !profile.relationship.isFollowed && (\n                                <button className={styles.ProfileActionButton} onClick={handleFollowButton}>Follow</button>\n                            )}\n                        </div>\n                    </div>\n                    <div className={styles.ProfileFullname}>{profile.user.fullname}</div>\n                    <div className={styles.ProfileUsername}>@{profile.user.username}</div>\n                    <div className={styles.ProfileBio}>\n                        {profile.user.bio}\n                    </div>\n                    <div className={styles.ProfileUserStats}>\n                        <div className={styles.ProfileRelationShipContainer}>\n                            <div className={styles.ProfileRelationShipCount}>{profile.relationship.following}</div>\n                            <div className={styles.ProfileRelationShipText}> Following</div>\n                        </div>\n                        <div className={styles.ProfileRelationShipContainer}>\n                            <div className={styles.ProfileRelationShipCount}>{profile.relationship.followers}</div>\n                            <div className={styles.ProfileRelationShipText}> Followers</div>\n                        </div>\n                    </div>\n                    <div className={styles.ProfileFeedContainer}>\n                        <div className={styles.ProfileFeedTabContainer}>\n                            <NavLink exact to={`/${props.user.uid}`} className={styles.ProfileFeedTabItem}\n                                     activeClassName={styles.ProfileFeedTabItemSelected}>\n                                Tweets</NavLink>\n                            <NavLink exact to={`/${props.user.uid}/likes`} className={styles.ProfileFeedTabItem}\n                                     activeClassName={styles.ProfileFeedTabItemSelected} onClick={handleLikesTweetsButton}>\n                                Likes</NavLink>\n                            <NavLink exact to={`/${props.user.uid}/comments`} className={styles.ProfileFeedTabItem}\n                                     activeClassName={styles.ProfileFeedTabItemSelected} onClick={handleCommentsTweetsButton}>\n                                Comments</NavLink>\n                        </div>\n                        <div className={styles.ProfileFeedContentContainer}>\n                            <Switch>\n                                <Route exact path={`/${props.user.uid}`}>\n                                    <FeedContainer tweets={profile.tweets as Tweet[]}/>\n                                </Route>\n                                <Route exact path={`/${props.user.uid}/likes`}>\n                                    <FeedContainer tweets={profile.likeTweets as Tweet[]}/>\n                                </Route>\n                                <Route exact path={`/${props.user.uid}/comments`}>\n                                    <FeedContainer tweets={profile.commentTweets as Tweet[]}/>\n                                </Route>\n                            </Switch>\n                        </div>\n                    </div>\n                </div>\n        }\n        </>\n    );\n};\n\nexport default Profile;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/explore/Explore.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/utils/Utils.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/TweetInput.tsx",["157","158","159"],"import React, {useState} from 'react';\nimport styles from \"../../styles/home/TweetInput.module.css\";\nimport PhotoIcon from \"../../images/photo_image_icon.png\";\nimport XIcon from \"../../images/x_icon.png\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport {User} from \"../../data/entities/User\";\n\ntype TSendTweetFunction = (text: string,image: File | null) => void;\n\ninterface PROPS {\n    user: User\n    sendTweetAction: TSendTweetFunction\n}\n\ninterface IError {\n    error: Error | null,\n    message: string | null\n}\n\nconst TweetInput: React.FC<PROPS> = (props) => {\n\n    const [text,setText] = useState(\"\");\n    const [image,setImage] = useState<File | null>(null);\n    const [imageUrl,setImageUrl] = useState<string | null>(null);\n    const [textCount,setTextCount] = useState(\"0/140\");\n    const [error,setError] = useState<IError>({ error: null,message: null });\n\n    const handleText = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setText(e.target.value);\n        const newTextCount = `${e.target.value.length}/140`;\n        setTextCount(newTextCount);\n    };\n\n    const handleChangeImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const files = e.target.files;\n        if (files != null && files.length !== 0) {\n            setImage(files[0]);\n            setImageUrl(window.URL.createObjectURL(files[0]))\n        }\n    };\n\n    const handleRemoveImage = (e: React.MouseEvent<HTMLImageElement>) => {\n        setImage(null);\n        setImageUrl(\"\");\n    };\n\n    const postTweet = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        props.sendTweetAction(text,image);\n        clearStates()\n    };\n\n    const clearStates = () => {\n        setText(\"\");\n        setTextCount(\"0/140\");\n        setImage(null);\n        setImageUrl(null)\n    };\n\n    return (\n        <div className={styles.TweetInputContainer}>\n            <img src={props.user.profileImageUrl} alt=\"ProfileImage\" className={styles.TweetInputProfileImage}/>\n            <form className={styles.TweetInputContent} onSubmit={postTweet}>\n                <TextareaAutosize placeholder=\"What's happening?\" className={styles.TweetInputTextField} value={text} onChange={handleText}/>\n                {/*  写真が選択されている場合は表示する、それ以外は空タブになる  */}\n                { imageUrl ?\n                    <div className={styles.TweetInputImageContainer}>\n                        <img src={imageUrl} alt=\"image\" className={styles.TweetInputSelectedImage}/>\n                        <img src={XIcon} alt=\"XIcon\" className={styles.TweetInputXIcon} onClick={handleRemoveImage}/>\n                    </div>\n                : <></> }\n                <div className={styles.TweetInputContentFooter}>\n                    <label className={styles.TweetInputPhotoSelectButton}>\n                        <span>\n                            <img src={PhotoIcon} alt=\"PhotoSelectedButton\" className={styles.TweetInputPhotoIcon}/>\n                        </span>\n                        <input type=\"file\" className={styles.TweetInputPhotoInput} onChange={handleChangeImage} accept=\"image/*\"/>\n                    </label>\n                    <div className={styles.TweetInputFooterInner}>\n                        <p className={styles.TweetInputTextCount}>{textCount}</p>\n                        <button type=\"submit\" className={styles.TweetInputPostButton}>\n                            Tweet\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default TweetInput;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/FeedContainer.tsx",["160","161","162"],"import React, {useEffect, useState} from 'react';\nimport styles from \"../../../styles/shares/tweet/FeedContainer.module.css\";\nimport TweetCell from \"./TweetCell\";\nimport {Tweet} from \"../../../data/entities/Tweet\";\n\ninterface PROPS {\n    tweets: Tweet[]\n}\n\nconst FeedContainer: React.FC<PROPS> = (props) => {\n\n    useEffect(() => {\n        console.log(`DEBUG: This is Tweets ${props.tweets} at FeedContainer.tsx`);\n    },[props]);\n\n    const feed = props.tweets.map((tweet) => (\n        <div className={styles.FeedContainerTweetCell}>\n            <TweetCell key={tweet.id} tweet={tweet}/>\n        </div>\n    ));\n\n    return (\n        <div className={styles.FeedContainer}>\n            {\n                (props.tweets.length == 0 || props.tweets[0].id == \"\") ?\n                <div/> : feed\n            }\n        </div>\n    );\n};\n\nexport default FeedContainer;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/TweetCell.tsx",["163","164","165"],"import React from 'react';\nimport styles from \"../../../styles/shares/tweet/TweetCell.module.css\";\nimport ProfileIcon from \"../../../images/ironman.jpg\";\nimport HeartIcon from \"../../../images/heart_icon.png\";\nimport HeartLikedIcon from \"../../../images/heart_liked_icon.png\";\nimport CommentIcon from \"../../../images/comment_icon.png\";\nimport SaveIcon from \"../../../images/save_icon.png\";\nimport {Tweet} from \"../../../data/entities/Tweet\";\n\ninterface PROPS {\n    tweet: Tweet\n}\n\nconst TweetCell: React.FC<PROPS> = (props) => {\n\n    return (\n        <div className={styles.TweetCellContainer}>\n            <img src={props.tweet.profileImageUrl} alt=\"ProfileIcon\" className={styles.TweetCellProfileImage}/>\n            <div className={styles.TweetCellContentContainer}>\n                <div className={styles.TweetCellTweetInfo}>\n                    <div className={styles.TweetCellFullname}>{props.tweet.fullname}</div>\n                    <div className={styles.TweetCellUsername}>@{props.tweet.username} • {props.tweet.timestamp}</div>\n                </div>\n                <div className={styles.TweetCellText}>\n                    {props.tweet.text}\n                </div>\n                {\n                    props.tweet.imageUrl.length != 0 ?\n                        <img src={props.tweet.imageUrl} alt=\"PostImage\" className={styles.TweetCellImage}/>\n                        :\n                        <></>\n                }\n                <div className={styles.TweetCellActionBar}>\n                    <div className={styles.TweetCellActionItem}>\n                        <img src={CommentIcon} alt=\"ActionIcon\" className={styles.TweetCellActionItemImage}/>\n                        <div className={styles.TweetCellActionItemCount}>{props.tweet.likes}</div>\n                    </div>\n                    <div className={styles.TweetCellActionItem}>\n                        <img src={HeartIcon} alt=\"ActionIcon\" className={styles.TweetCellHeartIcon} onClick={() => console.log(\"Clicked!\")}/>\n                        <div className={styles.TweetCellActionItemLikedCount}>{props.tweet.comments}</div>\n                    </div>\n                    <div className={styles.TweetCellActionItem}>\n                        <img src={SaveIcon} alt=\"ActionIcon\" className={styles.TweetCellActionItemImage}/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default TweetCell;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/User.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/tweetsSlice.ts",["166","167","168"],"import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\nimport {RootState} from \"../store\";\nimport {Tweet} from \"../../data/entities/Tweet\";\nimport firebase from \"firebase/app\";\nimport {FirestoreTimestampToString} from \"../../utils/Utils\";\n\nconst nowDate = new Date();\n\nexport const tweetsSlice = createSlice({\n    name: \"tweets\", // sliceの名称\n    initialState: {\n        // sliceの初期値\n        tweets: [{\n            id:\"\",uid:\"\",fullname:\"\",username:\"\",profileImageUrl:\"\",\n            text:\"\",imageUrl:\"\",timestamp: FirestoreTimestampToString(nowDate),likes: 0,comments: 0,isLiked: false\n        }]\n    },\n    // Stateに対して更新処理を定義する場所\n    reducers: {\n        // ここで定義した物がAction Creator関数の名前となる\n        addTweets: (state,action) => {\n            state.tweets = action.payload;\n        },\n        addTweet: (state,action) => {\n            const newTweets = state.tweets;\n            newTweets.unshift(action.payload);\n            state.tweets = newTweets\n        },\n    }\n});\n\nexport const { addTweets,addTweet } = tweetsSlice.actions;\n\nexport const selectTweets = (state: RootState) => state.tweets.tweets;\n// 中間の user は storeのreducerの名称を指している\n// 最後の user は userSliceのstateであるuserを指している\n\nexport default tweetsSlice.reducer;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/tweetRepository.ts",["169","170"],"import {tweetsRef} from \"../../config/firebase\";\nimport {buildTweet, Tweet} from \"../entities/Tweet\";\nimport {User} from \"../entities/User\";\nimport {FirestoreTimestampToString, readNowTimestamp, uploadImage} from \"../../utils/Utils\";\nimport firebase from \"firebase/app\";\n\n/*\n* Data Structure\n* posts -> likes -> userId\n*                -> userId\n*\n*       -> comments -> data\n*\n* */\n// type Tweets = Tweet[]\n\nexport const fetchTweets = async (currentUid: string): Promise<Tweet[]> => {\n    try {\n        const tweetDocs = tweetsRef.orderBy(\"timestamp\",\"desc\");\n        const tweets = await fetchTweetsByOption(tweetDocs,currentUid);\n        console.log(`DEBUG: tweets[0].id is ${tweets[0].id} at fetchUserPostTweets`);\n        return Promise.resolve(tweets)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\nexport const fetchTweetsByOption = async (ref: firebase.firestore.Query<firebase.firestore.DocumentData>,currentUid: string): Promise<Tweet[]> => {\n    try {\n        const tweetDocs = await ref.get();\n        let tweets: Tweet[] = [];\n        // ここでPromiseを返す配列を作成する。Promise自体を返すわけではないので await を利用しても意味がない\n        const tweetsPromises = tweetDocs.docs.map(async doc => {\n            const likeDocs = await doc.ref.collection(\"likes\").get();\n            const commentDocs = await doc.ref.collection(\"comments\").get();\n            const isLikedDocs = likeDocs.docs.filter(doc => {\n                return doc.id == currentUid\n            });\n            const isLiked = isLikedDocs.length != 0; // isLikedDocsはいいねしたユーザーのUidのDocumentを取得する\n            const tweet = buildTweet(doc.data(),likeDocs.size,commentDocs.size,isLiked);\n            console.log(`DEBUG: This is tweet ${tweet.id}`);\n            tweets = tweets.concat(tweet)\n        });\n        // ここで配列のPromiseをそれぞれ非同期で実行する。それぞれ Promise を返すので await で処理が終了するまで待つ\n        await Promise.all(tweetsPromises);\n        return Promise.resolve(tweets)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\nexport const sendTweet = async (user: User,file: File | null,text: string): Promise<Tweet> => {\n    let url = \"\";\n    if (file != null) {\n        url = await uploadImage(file,\"tweet\",user.uid)\n    }\n    try {\n        const tweetRef = tweetsRef.doc();\n        const data = { id: tweetRef.id,uid: user.uid,fullname: user.fullname,username: user.username,\n            profileImageUrl: user.profileImageUrl,text: text,imageUrl: url,timestamp: readNowTimestamp()};\n        await tweetRef.set(data);\n        const tweet: Tweet = { id: data.id,uid: data.uid,fullname: data.fullname,username: data.username,\n            profileImageUrl: data.profileImageUrl,text: data.text,imageUrl: url,timestamp: FirestoreTimestampToString(new Date()),likes: 0,comments: 0,isLiked: false};\n        return  Promise.resolve(tweet)\n    } catch (e) {\n        console.log(`DEBUG: ${e} at sendTweet`);\n        return Promise.reject(e)\n    }\n};\n\nexport const fetchTweet = async () => {\n\n};\n\nexport const fetchTweetIsLiked = async () => {\n\n};\n\nexport const fetchTweetLikes = async () => {\n\n};\n\nexport const fetchTweetComments = async () => {\n\n};\n\n\n\n\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/Tweet.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/profileSlice.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/Logout.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/profileRepository.ts",["171","172"],"import {followersRef, followingRef, tweetsRef, userCommentsTweetRef, userLikesTweetRef} from \"../../config/firebase\";\nimport {Tweet} from \"../entities/Tweet\";\nimport {fetchTweetsByOption} from \"./tweetRepository\";\n\n\nexport const fetchIsFollowed = async (currentUid: string,uid: string): Promise<boolean> => {\n    try {\n        const ref = await followingRef(currentUid).doc(uid).get();\n        return Promise.resolve(ref.exists)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\ninterface RelationshipStats {\n    following: number;\n    followers: number;\n}\n\nexport const fetchRelationshipStats = async (uid: string): Promise<RelationshipStats> => {\n    try {\n        const followingDocs = await followingRef(uid).get();\n        const followersDocs = await followersRef(uid).get();\n        const stats: RelationshipStats = {\n            following: followingDocs.docs.length,\n            followers: followersDocs.docs.length,\n        };\n        return Promise.resolve(stats)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\nexport const fetchUserPostTweets = async (currentUid: string,uid: string): Promise<Tweet[]> => {\n    try {\n        const tweetDocs = tweetsRef.where(\"uid\",\"==\",uid);\n        const tweets = await fetchTweetsByOption(tweetDocs,currentUid);\n        //console.log(`DEBUG: tweets[0].id is ${tweets[0].id} at fetchUserPostTweets`);\n        return Promise.resolve(tweets)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\nexport const fetchUserLikeTweets = async (uid: string,currentUid: string): Promise<Tweet[]> => {\n    try {\n        let tweets: Tweet[] = [];\n        const userLikesTweetDocs = await userLikesTweetRef(uid).get();\n        if (userLikesTweetDocs.docs.length == 0) {\n            return Promise.resolve(tweets)\n        }\n        userLikesTweetDocs.docs.map((doc => doc.id));\n        const tweetDocs = tweetsRef.where(\"id\",\"in\",userLikesTweetDocs);\n        tweets = await fetchTweetsByOption(tweetDocs, currentUid);\n        return Promise.resolve(tweets)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\nexport const fetchUserCommentTweets = async (uid: string,currentUid: string): Promise<Tweet[]> => {\n    try {\n        let tweets: Tweet[] = [];\n        const userLikesTweetDocs = await userCommentsTweetRef(uid).get();\n        if (userLikesTweetDocs.docs.length == 0) {\n            return Promise.resolve(tweets)\n        }\n        userLikesTweetDocs.docs.map((doc => doc.id));\n        const tweetDocs = tweetsRef.where(\"id\",\"in\",userLikesTweetDocs);\n        tweets = await fetchTweetsByOption(tweetDocs, currentUid);\n        return Promise.resolve(tweets)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\n\n\n\n/*\n* Data Structure\n* pattern 1\n* users -> uid -> followers -> uid\n*              -> following -> uid\n*\n* pattern 2\n* following -> uid -> uid\n* followers -> uid -> uid\n*\n* Test 1\n* user1 user2 user3\n*\n*\n* */","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/profile/ProfileUpdate.tsx",["173"],{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","replacedBy":"177"},{"ruleId":"178","severity":1,"message":"179","line":34,"column":29,"nodeType":"180","endLine":34,"endColumn":95},{"ruleId":"178","severity":1,"message":"179","line":38,"column":33,"nodeType":"180","endLine":38,"endColumn":57},{"ruleId":"181","severity":1,"message":"182","line":4,"column":9,"nodeType":"183","messageId":"184","endLine":4,"endColumn":13},{"ruleId":"178","severity":1,"message":"179","line":41,"column":17,"nodeType":"180","endLine":41,"endColumn":41},{"ruleId":"178","severity":1,"message":"179","line":42,"column":17,"nodeType":"180","endLine":42,"endColumn":41},{"ruleId":"185","severity":1,"message":"186","line":43,"column":7,"nodeType":"187","endLine":43,"endColumn":17,"suggestions":"188"},{"ruleId":"181","severity":1,"message":"189","line":45,"column":11,"nodeType":"183","messageId":"184","endLine":45,"endColumn":23},{"ruleId":"181","severity":1,"message":"190","line":1,"column":22,"nodeType":"183","messageId":"184","endLine":1,"endColumn":35},{"ruleId":"178","severity":1,"message":"179","line":11,"column":17,"nodeType":"180","endLine":11,"endColumn":76},{"ruleId":"174","replacedBy":"191"},{"ruleId":"176","replacedBy":"192"},{"ruleId":"181","severity":1,"message":"193","line":1,"column":41,"nodeType":"183","messageId":"184","endLine":1,"endColumn":49},{"ruleId":"181","severity":1,"message":"194","line":2,"column":20,"nodeType":"183","messageId":"184","endLine":2,"endColumn":24},{"ruleId":"195","severity":1,"message":"196","line":23,"column":44,"nodeType":"197","messageId":"198","endLine":23,"endColumn":46},{"ruleId":"185","severity":1,"message":"186","line":35,"column":7,"nodeType":"187","endLine":35,"endColumn":17,"suggestions":"199"},{"ruleId":"195","severity":1,"message":"200","line":48,"column":35,"nodeType":"197","messageId":"198","endLine":48,"endColumn":37},{"ruleId":"181","severity":1,"message":"201","line":4,"column":31,"nodeType":"183","messageId":"184","endLine":4,"endColumn":42},{"ruleId":"195","severity":1,"message":"200","line":42,"column":43,"nodeType":"197","messageId":"198","endLine":42,"endColumn":45},{"ruleId":"185","severity":1,"message":"202","line":68,"column":7,"nodeType":"187","endLine":68,"endColumn":17,"suggestions":"203"},{"ruleId":"195","severity":1,"message":"200","line":119,"column":60,"nodeType":"197","messageId":"198","endLine":119,"endColumn":62},{"ruleId":"181","severity":1,"message":"204","line":26,"column":12,"nodeType":"183","messageId":"184","endLine":26,"endColumn":17},{"ruleId":"181","severity":1,"message":"205","line":26,"column":18,"nodeType":"183","messageId":"184","endLine":26,"endColumn":26},{"ruleId":"206","severity":1,"message":"207","line":68,"column":25,"nodeType":"180","endLine":68,"endColumn":101},{"ruleId":"181","severity":1,"message":"208","line":1,"column":27,"nodeType":"183","messageId":"184","endLine":1,"endColumn":35},{"ruleId":"195","severity":1,"message":"200","line":25,"column":38,"nodeType":"197","messageId":"198","endLine":25,"endColumn":40},{"ruleId":"195","severity":1,"message":"200","line":25,"column":65,"nodeType":"197","messageId":"198","endLine":25,"endColumn":67},{"ruleId":"181","severity":1,"message":"209","line":3,"column":8,"nodeType":"183","messageId":"184","endLine":3,"endColumn":19},{"ruleId":"181","severity":1,"message":"210","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":22},{"ruleId":"195","severity":1,"message":"196","line":28,"column":49,"nodeType":"197","messageId":"198","endLine":28,"endColumn":51},{"ruleId":"181","severity":1,"message":"211","line":1,"column":9,"nodeType":"183","messageId":"184","endLine":1,"endColumn":25},{"ruleId":"181","severity":1,"message":"212","line":3,"column":9,"nodeType":"183","messageId":"184","endLine":3,"endColumn":14},{"ruleId":"181","severity":1,"message":"213","line":4,"column":8,"nodeType":"183","messageId":"184","endLine":4,"endColumn":16},{"ruleId":"195","severity":1,"message":"200","line":37,"column":31,"nodeType":"197","messageId":"198","endLine":37,"endColumn":33},{"ruleId":"195","severity":1,"message":"196","line":39,"column":48,"nodeType":"197","messageId":"198","endLine":39,"endColumn":50},{"ruleId":"195","severity":1,"message":"200","line":49,"column":44,"nodeType":"197","messageId":"198","endLine":49,"endColumn":46},{"ruleId":"195","severity":1,"message":"200","line":65,"column":44,"nodeType":"197","messageId":"198","endLine":65,"endColumn":46},{"ruleId":"195","severity":1,"message":"196","line":74,"column":48,"nodeType":"197","messageId":"198","endLine":74,"endColumn":50},"no-native-reassign",["214"],"no-negated-in-lhs",["215"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","@typescript-eslint/no-unused-vars","'auth' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser.uid'. Either include it or remove the dependency array.","ArrayExpression",["216"],"'handleLogout' is assigned a value but never used.","'PayloadAction' is defined but never used.",["214"],["215"],"'usersRef' is defined but never used.","'User' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected",["217"],"Expected '===' and instead saw '=='.","'useLocation' is defined but never used.","React Hook useEffect has missing dependencies: 'currentUser.uid', 'props.user.backgroundUrl', 'props.user.bio', 'props.user.fullname', 'props.user.profileImageUrl', 'props.user.uid', and 'props.user.username'. Either include them or remove the dependency array.",["218"],"'error' is assigned a value but never used.","'setError' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'useState' is defined but never used.","'ProfileIcon' is defined but never used.","'HeartLikedIcon' is defined but never used.","'createAsyncThunk' is defined but never used.","'Tweet' is defined but never used.","'firebase' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"219","fix":"220"},{"desc":"219","fix":"221"},{"desc":"222","fix":"223"},"Update the dependencies array to be: [currentUser.uid, dispatch]",{"range":"224","text":"225"},{"range":"226","text":"225"},"Update the dependencies array to be: [currentUser.uid, dispatch, props.user.backgroundUrl, props.user.bio, props.user.fullname, props.user.profileImageUrl, props.user.uid, props.user.username]",{"range":"227","text":"228"},[1890,1900],"[currentUser.uid, dispatch]",[1342,1352],[2623,2633],"[currentUser.uid, dispatch, props.user.backgroundUrl, props.user.bio, props.user.fullname, props.user.profileImageUrl, props.user.uid, props.user.username]"]