[{"/Users/harumax/WebstormProjects/react-firebase-twitter/src/index.tsx":"1","/Users/harumax/WebstormProjects/react-firebase-twitter/src/serviceWorker.ts":"2","/Users/harumax/WebstormProjects/react-firebase-twitter/src/App.tsx":"3","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/AuthTop.tsx":"4","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/Login.tsx":"5","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/SignUp.tsx":"6","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/top/Top.tsx":"7","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/store.ts":"8","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/userSlice.ts":"9","/Users/harumax/WebstormProjects/react-firebase-twitter/src/config/firebase.ts":"10","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/LoadingPage.tsx":"11","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/user.ts":"12","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/userRepository.ts":"13","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/Home.tsx":"14","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/messages/Messages.tsx":"15","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/profile/Profile.tsx":"16","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/explore/Explore.tsx":"17","/Users/harumax/WebstormProjects/react-firebase-twitter/src/utils/Utils.ts":"18","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/TweetInput.tsx":"19","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/FeedContainer.tsx":"20","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/TweetCell.tsx":"21","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/User.ts":"22","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/tweetsSlice.ts":"23","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/tweetRepository.ts":"24","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/Tweet.ts":"25"},{"size":766,"mtime":1611460684467,"results":"26","hashOfConfig":"27"},{"size":5425,"mtime":1611627541754,"results":"28","hashOfConfig":"27"},{"size":2304,"mtime":1611627541747,"results":"29","hashOfConfig":"27"},{"size":3504,"mtime":1611627541760,"results":"30","hashOfConfig":"27"},{"size":2138,"mtime":1611627541762,"results":"31","hashOfConfig":"27"},{"size":2327,"mtime":1611627541764,"results":"32","hashOfConfig":"27"},{"size":5630,"mtime":1611627541773,"results":"33","hashOfConfig":"27"},{"size":471,"mtime":1611630120618,"results":"34","hashOfConfig":"27"},{"size":1627,"mtime":1611629249599,"results":"35","hashOfConfig":"27"},{"size":1057,"mtime":1611630120625,"results":"36","hashOfConfig":"27"},{"size":616,"mtime":1611460684470,"results":"37","hashOfConfig":"27"},{"size":422,"mtime":1611628863436,"results":"38","hashOfConfig":"27"},{"size":1635,"mtime":1611630120604,"results":"39","hashOfConfig":"27"},{"size":2052,"mtime":1611668502656,"results":"40","hashOfConfig":"27"},{"size":168,"mtime":1611627541769,"results":"41","hashOfConfig":"27"},{"size":166,"mtime":1611627541770,"results":"42","hashOfConfig":"27"},{"size":166,"mtime":1611627541766,"results":"43","hashOfConfig":"27"},{"size":1821,"mtime":1611658263590,"results":"44","hashOfConfig":"27"},{"size":3722,"mtime":1611668559054,"results":"45","hashOfConfig":"27"},{"size":801,"mtime":1611667483822,"results":"46","hashOfConfig":"27"},{"size":2431,"mtime":1611666617943,"results":"47","hashOfConfig":"27"},{"size":422,"mtime":1611628863436,"results":"48","hashOfConfig":"27"},{"size":1362,"mtime":1611668502664,"results":"49","hashOfConfig":"27"},{"size":2843,"mtime":1611667702837,"results":"50","hashOfConfig":"27"},{"size":1160,"mtime":1611658263585,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"10k33js",{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"54"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"54"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"54"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"54"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"54"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"54"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"54"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"54"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"54"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/harumax/WebstormProjects/react-firebase-twitter/src/index.tsx",[],["113","114"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/serviceWorker.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/App.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/AuthTop.tsx",["115","116"],"import React from 'react';\nimport { Switch,Route,Redirect } from \"react-router-dom\";\nimport styles from \"../../styles/auth/AuthTop.module.css\";\nimport LeftContainerIcon from \"../../images/left-container.png\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport Login from \"./Login\";\nimport SignUp from \"./SignUp\";\n\nconst AuthTop: React.FC = () => {\n\n    document.title = \"「いま」起きていることを見つけよう / Twitter\";\n\n    const handleLoginButton = (e: React.MouseEvent<HTMLElement>) => {\n        window.location.href = \"/login\";\n    };\n\n    const handleSignUpButton = (e: React.MouseEvent<HTMLElement>) => {\n        window.location.href = \"/signup\";\n    };\n\n    return (\n\n        <Switch>\n            <Route exact path=\"/login\">\n                <Login/>\n            </Route>\n            <Route exact path=\"/signup\">\n                <SignUp/>\n            </Route>\n            <Route exact path=\"/\">\n                <div className={styles.AuthTopBody}>\n                    <div className={styles.AuthTopContainer}>\n                        <div className={styles.AuthTopLeftContainer}>\n                            <img className={styles.AuthTopLeftImage} src={LeftContainerIcon}/>\n                        </div>\n                        <div className={styles.AuthTopRightContainer}>\n                            <div className={styles.AuthTopRightInnerContainer}>\n                                <img src={TwitterIcon}/>\n                                <p>「いま」起きていることを見つけよう</p>\n                                <h3>Twitterを始めよう</h3>\n                                <button className={styles.AuthTopRightSignUpButton} onClick={handleSignUpButton}>\n                                    アカウント作成\n                                </button>\n                                <button className={styles.AuthTopRightLoginButton} onClick={handleLoginButton}>\n                                    ログイン\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={styles.AuthTopBottomContainer}>\n                        <div className={styles.AuthTopBottomContainerList}>\n                            <p>Twitterについて</p>\n                            <p>ヘルプセンター</p>\n                            <p>利用規約</p>\n                            <p>プライバシーポリシー</p>\n                            <p>Cookieのポリシー</p>\n                            <p>広告情報</p>\n                            <p>ブログ</p>\n                            <p>ステータス</p>\n                            <p>採用情報</p>\n                            <p>ブランドリリース</p>\n                            <p>広告</p>\n                            <p>マーケティング</p>\n                            <p>Twitterのビジネス活用</p>\n                            <p>開発者</p>\n                            <p>プロフィール一覧</p>\n                            <p>設定</p>\n                        </div>\n                        <p className={styles.AuthTopBottomContainerCopyright}>\n                            &copy; 2021 Twitter-Firebase\n                        </p>\n                    </div>\n                </div>\n            </Route>\n            <Route>\n                <Redirect to=\"/\"/>\n            </Route>\n        </Switch>\n\n    );\n};\n\nexport default AuthTop;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/Login.tsx",["117","118"],"import React, {useState} from 'react';\nimport styles from \"../../styles/auth/Login.module.css\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport {auth} from \"../../config/firebase\";\nimport {loginUser} from \"../../data/repository/userRepository\";\n\n\nconst Login: React.FC = () => {\n\n    document.title = \"Twitterにログイン / Twitter\";\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");\n\n    const handleEmail = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setEmail(e.target.value);\n    };\n    const handlePassword = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setPassword(e.target.value);\n    };\n    const clearCredential = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    };\n\n    const handleLogin = async () => {\n        loginUser(email,password)\n            .then(result => {\n                console.log(`DEBUG: This is ${result}`);\n                window.location.href = \"/home\"\n            })\n            .catch(error => {\n                console.log(`Error: This is ${error}`);\n                alert(error);\n                clearCredential()\n            })\n    };\n\n    return (\n        <div className={styles.LoginContainer}>\n            <div className={styles.LoginInnerContainer}>\n                <img src={TwitterIcon}/>\n                <h2>Twitterにログイン</h2>\n                <input type=\"email\" required placeholder=\"メールアドレス\" className={styles.LoginEmailInput}\n                        value={email} onChange={handleEmail}\n                />\n                <input type=\"password\" required minLength={6} placeholder=\"パスワード\" className={styles.LoginPasswordInput}\n                        value={password} onChange={handlePassword}\n                />\n                <button type=\"submit\" className={styles.LoginConfirmButton} onClick={handleLogin}>\n                    ログイン\n                </button>\n                <a href=\"/signup\" className={styles.ToSignUpLink}>\n                    アカウント作成\n                </a>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/auth/SignUp.tsx",["119"],"import React, {useState} from 'react';\nimport styles from \"../../styles/auth/SignUp.module.css\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport {Credential, signUpUser} from \"../../data/repository/userRepository\";\n\nconst SignUp:React.FC = () => {\n\n    document.title = \"Twitterに登録 / Twitter\";\n\n    const initialCredential: Credential = {\n        fullname: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\"\n    };\n\n    const [credential,setCredential] = useState<Credential>(initialCredential);\n\n    const handleCredential = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const name = e.target.name;\n        const value = e.target.value;\n        const newCred = { ...credential,[name]: value };\n        setCredential(newCred)\n    };\n\n    const signUp = () => {\n        console.log(`signUp is called`);\n        signUpUser(credential).then(result => {\n            window.location.href = \"/home\";\n            console.log(result)\n        })\n        .catch(error => {\n            alert(error);\n            setCredential(initialCredential);\n            console.error(`Error: ${error} at signUp in SignUp.tsx`);\n        });\n    };\n\n    return (\n        <div className={styles.SignUpContainer}>\n            <div className={styles.SignUpInnerContainer}>\n                <img src={TwitterIcon}/>\n                <h2>Twitterに登録</h2>\n                <input type=\"text\" required placeholder=\"フルネーム\" name=\"fullname\" value={credential.fullname} onChange={handleCredential}/>\n                <input type=\"text\" required placeholder=\"ユーザー名\" name=\"username\" value={credential.username} onChange={handleCredential}/>\n                <input type=\"email\" required placeholder=\"メールアドレス\" name=\"email\" value={credential.email} onChange={handleCredential}/>\n                <input type=\"password\" required minLength={6} placeholder=\"パスワード\" name=\"password\" value={credential.password} onChange={handleCredential}/>\n                <button type=\"submit\" className={styles.SignUpConfirmButton} onClick={signUp}>\n                    登録\n                </button>\n                <a href=\"/login\" className={styles.ToLoginLink}>\n                    ログインへ\n                </a>\n            </div>\n        </div>\n    );\n};\n\nexport default SignUp;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/top/Top.tsx",["120"],"import React, {useEffect, useState} from 'react';\nimport styles from \"../../styles/top/Top.module.css\";\nimport TwitterIcon from \"../../images/twitter-logo-white.png\";\nimport HomeSideBarIcon from \"../../images/home.png\";\nimport ExploreSideBarIcon from \"../../images/explore.png\";\nimport MessageSideBarIcon from \"../../images/message.png\";\nimport ProfileSideBarIcon from \"../../images/profile.png\";\nimport ProfileIcon from \"../../images/ironman.jpg\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {selectUser,fetchCurrentUser} from \"../../store/slices/userSlice\";\nimport {fetchUser} from \"../../data/repository/userRepository\";\nimport LoadingPage from \"../LoadingPage\";\nimport { Switch,Route,NavLink,useLocation } from \"react-router-dom\";\nimport {auth} from \"../../config/firebase\";\nimport Home from \"../home/Home\";\nimport Explore from \"../explore/Explore\";\nimport Messages from \"../messages/Messages\";\nimport Profile from \"../profile/Profile\";\nimport {getTitle} from \"../../utils/Utils\";\n\nconst Top: React.FC = () => {\n\n    const currentUser = useSelector(selectUser);\n    const dispatch = useDispatch();\n    const [isLoading,setIsLoading] = useState(true);\n    document.title = getTitle(useLocation().pathname);\n\n    useEffect(() => {\n        //window.location.href = \"/home\";\n        console.log(\"DEBUG: useEffect is called at Top.tsx\");\n        fetchUser(currentUser.uid).then(user => {\n            dispatch(fetchCurrentUser(user));\n            setIsLoading(false)\n        });\n    },[dispatch]);\n\n    const handleLogout = async () => {\n        await auth.signOut()\n    };\n\n    const profileImage = () => {\n        return currentUser.profileImageUrl ? currentUser.profileImageUrl : ProfileIcon\n    };\n\n    return (\n        <>\n            {isLoading ? <LoadingPage/> :\n                <div className={styles.TopContainer}>\n                    <div className={styles.TopLeftSpaceContainer}>\n\n                    </div>\n                    <div className={styles.TopLeftContainer}>\n                        <NavLink to=\"/home\">\n                            <img src={TwitterIcon} alt=\"TwitterIcon\" className={styles.TopTwitterIcon}/>\n                        </NavLink>\n                        <div className={styles.TopSideBarContainer}>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/home\">\n                                <img src={HomeSideBarIcon} alt=\"HomeIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle} style={{paddingTop: \"16px\"}}>Home</p>\n                            </NavLink>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/explore\">\n                                <img src={ExploreSideBarIcon} alt=\"ExploreIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle}>Explore</p>\n                            </NavLink>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/messages\">\n                                <img src={MessageSideBarIcon} alt=\"MessagesIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle}>Messages</p>\n                            </NavLink>\n                            <NavLink className={styles.TopSideBarItem} activeClassName={styles.TopSideBarItemSelected} exact to=\"/profile\">\n                                <img src={ProfileSideBarIcon} alt=\"ProfileIcon\" className={styles.TopSideBarIcon}/>\n                                <p className={styles.TopSideBarTitle}>Profile</p>\n                            </NavLink>\n                        </div>\n                        <button className={styles.TopLogoutButton} onClick={handleLogout}>\n                            ログアウト\n                        </button>\n                        <button className={styles.TopPostTweetButton}>\n                            Tweet\n                        </button>\n                        <div className={styles.TopProfileContainer}>\n                            <img src={profileImage()} alt=\"ProfileImage\" className={styles.TopProfileIcon}/>\n                            <div className={styles.TopProfileInfo}>\n                                <p className={styles.TopProfileFullname}>{currentUser.fullname}</p>\n                                <p className={styles.TopProfileUsername}>@{currentUser.username}</p>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div className={styles.TopCenterContainer}>\n                        <Switch>\n                            <Route exact path=\"/home\">\n                                <Home/>\n                            </Route>\n                            <Route exact path=\"/explore\">\n                                <Explore/>\n                            </Route>\n                            <Route exact path=\"/messages\">\n                                <Messages/>\n                            </Route>\n                            <Route exact path=\"/profile\">\n                                <Profile/>\n                            </Route>\n                        </Switch>\n                    </div>\n                    <div className={styles.TopRightContainer}>\n\n                    </div>\n                    <div className={styles.TopRightSpaceContainer}>\n\n                    </div>\n                </div>\n            }\n        </>\n\n    );\n};\n\nexport default Top;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/store.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/userSlice.ts",["121"],"import { createSlice,PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../store\";\n\nexport const userSlice = createSlice({\n   name: \"user\", // sliceの名称\n   initialState: {\n       // sliceの初期値\n       user: {\n           uid: \"\",\n           fullname: \"\",\n           username: \"\",\n           profileImageUrl: \"\",\n           bio: \"\",\n           isLogin: false,\n       }\n   },\n    // Stateに対して更新処理を定義する場所\n   reducers: {\n       // ここで定義した物がAction Creator関数の名前となる\n       login: (state,action) => {\n           state.user = {\n               ...state.user,uid: action.payload,isLogin: true\n           }\n       },\n       logout: (state) => {\n           state.user = {\n               uid: \"\",\n               fullname: \"\",\n               username: \"\",\n               profileImageUrl: \"\",\n               bio: \"\",\n               isLogin: false,\n           };\n       },\n       fetchCurrentUser: (state,action) => {\n           const data = action.payload;\n            state.user = {\n                ...state.user,\n                uid: data.uid,\n                fullname: data.fullname,\n                username: data.username,\n                profileImageUrl: data.profileImageUrl,\n                bio: data.bio\n            }\n       }\n   }\n});\n\nexport const { login,logout,fetchCurrentUser } = userSlice.actions;\n\nexport const selectUser = (state: RootState) => state.user.user;\n// 中間の user は storeのreducerの名称を指している\n// 最後の user は userSliceのstateであるuserを指している\n\n\nexport default userSlice.reducer;\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/config/firebase.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/LoadingPage.tsx",["122"],"import React from 'react';\nimport styles from \"../styles/LoadingPage.module.css\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport TwitterIcon from \"../images/twitter-logo-white.png\";\n\n\nconst LoadingPage: React.FC = () => {\n    return (\n        <div className={styles.LoadingPageContainer}>\n            <div className={styles.LoadingPageInnerContainer}>\n                <img src={TwitterIcon} className={styles.LoadingPageIcon}/>\n                <CircularProgress className={styles.LoadingPageIndicator} size={100} />\n            </div>\n        </div>\n    );\n};\n\nexport default LoadingPage;\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/user.ts",[],["123","124"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/userRepository.ts",["125","126","127"],"import {auth, defaultImageUrl, userRef, usersRef} from \"../../config/firebase\";\nimport {buildUser, User} from \"../entities/User\";\n\nexport interface Credential {\n    fullname: string;\n    username: string;\n    email: string;\n    password: string;\n}\n\nexport const fetchUser = async (uid: string) => {\n    console.log(`DEBUG: uid is ${uid}`);\n    const document = await userRef(uid).get();\n    if (document.exists && document.data() != undefined) {\n        return buildUser(document.data()!);\n    } else {\n        return null\n    }\n};\n\nexport const loginUser = async (email: string,password: string): Promise<string> => {\n    console.log(\"DEBUG: loginUser is called\");\n    try {\n        const authUser = await auth.signInWithEmailAndPassword(email,password);\n        return Promise.resolve(authUser.user!.uid)\n    } catch (error) {\n        return Promise.reject(error)\n    }\n};\n\nexport const signUpUser = async (credential: Credential): Promise<string> => {\n    console.log(\"DEBUG: signUpUser is called\");\n    try {\n        const authUser = await auth.createUserWithEmailAndPassword(credential.email, credential.password);\n        console.log(`DEBUG: authUser is success at userRepository`);\n        await userRef(authUser.user!.uid).set({\n            uid: authUser.user!.uid,fullname: credential.fullname,username: credential.username,\n            bio: \"\",profileImageUrl: defaultImageUrl\n        });\n        console.log(`DEBUG: setUser is success at userRepository`);\n        return Promise.resolve(authUser.user!.uid)\n    } catch (error) {\n        return Promise.reject(error)\n    }\n};\n\nexport const fetchUsers = async () => {\n\n};\n\n\n\n\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/Home.tsx",["128","129"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/messages/Messages.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/profile/Profile.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/explore/Explore.tsx",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/utils/Utils.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/home/TweetInput.tsx",["130","131","132","133","134"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/FeedContainer.tsx",["135"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/views/shares/tweet/TweetCell.tsx",["136","137","138"],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/User.ts",[],"/Users/harumax/WebstormProjects/react-firebase-twitter/src/store/slices/tweetsSlice.ts",["139","140","141"],"import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\nimport {RootState} from \"../store\";\nimport {Tweet} from \"../../data/entities/Tweet\";\nimport firebase from \"firebase/app\";\nimport {FirestoreTimestampToString} from \"../../utils/Utils\";\n\nconst nowDate = new Date();\n\nexport const tweetsSlice = createSlice({\n    name: \"tweets\", // sliceの名称\n    initialState: {\n        // sliceの初期値\n        tweets: [{\n            id:\"\",uid:\"\",fullname:\"\",username:\"\",profileImageUrl:\"\",\n            text:\"\",imageUrl:\"\",timestamp: FirestoreTimestampToString(nowDate),likes: 0,comments: 0,isLiked: false\n        }]\n    },\n    // Stateに対して更新処理を定義する場所\n    reducers: {\n        // ここで定義した物がAction Creator関数の名前となる\n        addTweets: (state,action) => {\n            state.tweets = action.payload;\n        },\n        addTweet: (state,action) => {\n            const newTweets = state.tweets;\n            newTweets.unshift(action.payload);\n            state.tweets = newTweets\n        },\n    }\n});\n\nexport const { addTweets,addTweet } = tweetsSlice.actions;\n\nexport const selectTweets = (state: RootState) => state.tweets.tweets;\n// 中間の user は storeのreducerの名称を指している\n// 最後の user は userSliceのstateであるuserを指している\n\nexport default tweetsSlice.reducer;","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/repository/tweetRepository.ts",["142","143","144","145"],"import {tweetsRef} from \"../../config/firebase\";\nimport {buildTweet, Tweet} from \"../entities/Tweet\";\nimport {User} from \"../entities/User\";\nimport {readNowTimestamp, uploadImage} from \"../../utils/Utils\";\nimport firebase from \"firebase/app\";\n\n\n/*\n* Data Structure\n* posts -> likes -> userId\n*                -> userId\n*\n*       -> comments -> data\n*\n* */\n// type Tweets = Tweet[]\n\nexport const fetchTweets = async (currentUid: string): Promise<Tweet[]> => {\n    try {\n        const tweetDocs = await tweetsRef.orderBy(\"timestamp\",\"desc\").get();\n        let tweets: Tweet[] = [];\n        // ここでPromiseを返す配列を作成する。Promise自体を返すわけではないので await を利用しても意味がない\n        const tweetsPromises = tweetDocs.docs.map(async doc => {\n            const likeDocs = await doc.ref.collection(\"likes\").get();\n            const commentDocs = await doc.ref.collection(\"comments\").get();\n            const isLikedDocs = likeDocs.docs.filter(doc => {\n                return doc.id == currentUid\n            });\n            const isLiked = isLikedDocs.length != 0; // isLikedDocsはいいねしたユーザーのUidのDocumentを取得する\n            const tweet = buildTweet(doc.data(),likeDocs.size,commentDocs.size,isLiked);\n            console.log(`DEBUG: This is tweet ${tweet.id}`);\n            tweets = tweets.concat(tweet)\n        });\n        // ここで配列のPromiseをそれぞれ非同期で実行する。それぞれ Promise を返すので await で処理が終了するまで待つ\n        await Promise.all(tweetsPromises);\n        return Promise.resolve(tweets)\n    } catch (e) {\n        return Promise.reject(e)\n    }\n};\n\nexport const sendTweet = async (user: User,file: File | null,text: string): Promise<Tweet> => {\n    let url = \"\";\n    if (file != null) {\n        url = await uploadImage(file,\"tweet\",user.uid)\n    }\n    try {\n        const tweetRef = tweetsRef.doc();\n        const data = { id: tweetRef.id,uid: user.uid,fullname: user.fullname,username: user.username,\n            profileImageUrl: user.profileImageUrl,text: text,imageUrl: url,timestamp: readNowTimestamp()};\n        await tweetRef.set(data);\n        const tweet: Tweet = { id: data.id,uid: data.uid,fullname: data.fullname,username: data.username,\n            profileImageUrl: data.profileImageUrl,text: data.text,imageUrl: url,timestamp: data.timestamp,likes: 0,comments: 0,isLiked: false};\n        return  Promise.resolve(tweet)\n    } catch (e) {\n        console.log(`DEBUG: ${e} at sendTweet`);\n        return Promise.reject(e)\n    }\n};\n\nexport const fetchTweet = async () => {\n\n};\n\nexport const fetchTweetIsLiked = async () => {\n\n};\n\nexport const fetchTweetLikes = async () => {\n\n};\n\nexport const fetchTweetComments = async () => {\n\n};\n\n\n\n\n","/Users/harumax/WebstormProjects/react-firebase-twitter/src/data/entities/Tweet.ts",[],{"ruleId":"146","replacedBy":"147"},{"ruleId":"148","replacedBy":"149"},{"ruleId":"150","severity":1,"message":"151","line":34,"column":29,"nodeType":"152","endLine":34,"endColumn":95},{"ruleId":"150","severity":1,"message":"151","line":38,"column":33,"nodeType":"152","endLine":38,"endColumn":57},{"ruleId":"153","severity":1,"message":"154","line":4,"column":9,"nodeType":"155","messageId":"156","endLine":4,"endColumn":13},{"ruleId":"150","severity":1,"message":"151","line":41,"column":17,"nodeType":"152","endLine":41,"endColumn":41},{"ruleId":"150","severity":1,"message":"151","line":42,"column":17,"nodeType":"152","endLine":42,"endColumn":41},{"ruleId":"157","severity":1,"message":"158","line":35,"column":7,"nodeType":"159","endLine":35,"endColumn":17,"suggestions":"160"},{"ruleId":"153","severity":1,"message":"161","line":1,"column":22,"nodeType":"155","messageId":"156","endLine":1,"endColumn":35},{"ruleId":"150","severity":1,"message":"151","line":11,"column":17,"nodeType":"152","endLine":11,"endColumn":76},{"ruleId":"146","replacedBy":"162"},{"ruleId":"148","replacedBy":"163"},{"ruleId":"153","severity":1,"message":"164","line":1,"column":41,"nodeType":"155","messageId":"156","endLine":1,"endColumn":49},{"ruleId":"153","severity":1,"message":"165","line":2,"column":20,"nodeType":"155","messageId":"156","endLine":2,"endColumn":24},{"ruleId":"166","severity":1,"message":"167","line":14,"column":44,"nodeType":"168","messageId":"169","endLine":14,"endColumn":46},{"ruleId":"157","severity":1,"message":"158","line":35,"column":7,"nodeType":"159","endLine":35,"endColumn":17,"suggestions":"170"},{"ruleId":"166","severity":1,"message":"171","line":48,"column":35,"nodeType":"168","messageId":"169","endLine":48,"endColumn":37},{"ruleId":"153","severity":1,"message":"172","line":3,"column":8,"nodeType":"155","messageId":"156","endLine":3,"endColumn":19},{"ruleId":"153","severity":1,"message":"173","line":8,"column":9,"nodeType":"155","messageId":"156","endLine":8,"endColumn":18},{"ruleId":"153","severity":1,"message":"174","line":28,"column":12,"nodeType":"155","messageId":"156","endLine":28,"endColumn":17},{"ruleId":"153","severity":1,"message":"175","line":28,"column":18,"nodeType":"155","messageId":"156","endLine":28,"endColumn":26},{"ruleId":"176","severity":1,"message":"177","line":70,"column":25,"nodeType":"152","endLine":70,"endColumn":101},{"ruleId":"153","severity":1,"message":"178","line":1,"column":27,"nodeType":"155","messageId":"156","endLine":1,"endColumn":35},{"ruleId":"153","severity":1,"message":"172","line":3,"column":8,"nodeType":"155","messageId":"156","endLine":3,"endColumn":19},{"ruleId":"153","severity":1,"message":"179","line":5,"column":8,"nodeType":"155","messageId":"156","endLine":5,"endColumn":22},{"ruleId":"166","severity":1,"message":"167","line":28,"column":49,"nodeType":"168","messageId":"169","endLine":28,"endColumn":51},{"ruleId":"153","severity":1,"message":"180","line":1,"column":9,"nodeType":"155","messageId":"156","endLine":1,"endColumn":25},{"ruleId":"153","severity":1,"message":"181","line":3,"column":9,"nodeType":"155","messageId":"156","endLine":3,"endColumn":14},{"ruleId":"153","severity":1,"message":"182","line":4,"column":8,"nodeType":"155","messageId":"156","endLine":4,"endColumn":16},{"ruleId":"153","severity":1,"message":"182","line":5,"column":8,"nodeType":"155","messageId":"156","endLine":5,"endColumn":16},{"ruleId":"166","severity":1,"message":"171","line":27,"column":31,"nodeType":"168","messageId":"169","endLine":27,"endColumn":33},{"ruleId":"166","severity":1,"message":"167","line":29,"column":48,"nodeType":"168","messageId":"169","endLine":29,"endColumn":50},{"ruleId":"153","severity":1,"message":"183","line":51,"column":15,"nodeType":"155","messageId":"156","endLine":51,"endColumn":21},"no-native-reassign",["184"],"no-negated-in-lhs",["185"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","@typescript-eslint/no-unused-vars","'auth' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser.uid'. Either include it or remove the dependency array.","ArrayExpression",["186"],"'PayloadAction' is defined but never used.",["184"],["185"],"'usersRef' is defined but never used.","'User' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected",["187"],"Expected '===' and instead saw '=='.","'ProfileIcon' is defined but never used.","'sendTweet' is defined but never used.","'error' is assigned a value but never used.","'setError' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'useState' is defined but never used.","'HeartLikedIcon' is defined but never used.","'createAsyncThunk' is defined but never used.","'Tweet' is defined but never used.","'firebase' is defined but never used.","'result' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"188","fix":"189"},{"desc":"188","fix":"190"},"Update the dependencies array to be: [currentUser.uid, dispatch]",{"range":"191","text":"192"},{"range":"193","text":"192"},[1500,1510],"[currentUser.uid, dispatch]",[1342,1352]]